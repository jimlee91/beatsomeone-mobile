<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta property="og:image" content="이미지" />
    <meta property="og:url" content="유알엘" />
    <meta property="og:description" content="디스크립션" />
    <meta property="og:title" content="타이틀" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://fonts.googleapis.com/css?family=Raleway:300,400,600,900,900i&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./assets/plugins/slick/slick.css" />
    <link
      rel="stylesheet"
      href="./assets/plugins/rangeSlider/css/ion.rangeSlider.min.css"
    />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mediaelement/4.2.14/mediaelementplayer.min.css">
    <link rel="stylesheet" href="./assets/css/main.css" />
    <title>beatsomeone</title>
  </head>
  <body>
    <div class="wrapper">
      @@include('include/header.html')
      <div class="container detail">
        <div class="detail__header">
          <div class="wrap">
            <div class="detail__music">
              <div class="detail__music-img" id="central-controls" >
                <button class="btn-play amplitude-play-pause amplitude-paused"  id="play-pause">
                  <img data-amplitude-song-info="cover_art_url" class="album-art"/>
                </button>
              </div>
              <div class="detail__music-info">
                <h2 class="title">Shooting Stars</h2>
                <p class="singer">Black Mayo</p>
                <div class="state">
                  <span class="play">547</span>
                  <span class="song">120</span>
                  <span class="registed">May 20</span>
                </div>
                <div class="utils">
                  <div class="utils__info">
                    <a href="" class="buy"><span>$20.00</span></a>
                  </div>
                </div>
              </div>
            </div>

           
    <div class="player player--static">
      <div class="wrap">
        <div class="player__top">
          <div class="player__progress">
            <div id="progress-container">
              <input type="range" class="amplitude-song-slider" step=".1"/>
              <progress id="song-played-progress" class="amplitude-song-played-progress"></progress>
              <progress id="song-buffered-progress" class="amplitude-buffered-progress"></progress>
            </div>
          </div>
        </div>
      </div>
    </div>
           
            <div class="detail__comment">
              <form action="">
                <div class="commentForm">
                  <a href="" class="comment__user"></a>
                  <input
                    type="text"
                    placeholder="Write a comment..."
                    id="comment"
                    max="200"
                  />
                  <span id="commentLength">0/200</span>
                  <button>SEND</button>
                </div>
              </form>
            </div>
          </div>
        </div>
        <div class="detail__body">
          <div class="tab">
            <div class="tab__scroll-none">
              <button class="active">
                SIMILAR TRACKS
              </button>
              <button>
                COMMENTS
              </button>
              <button>
                INFORMATION
              </button>
            </div>
          </div>
            <div class="detail__content">
              <div class="playList">
                <ul id="playList__list" class="playList__list">
                  <!-- 플레이리스트 들어감 -->
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
      @@include('./include/footer.html')
    </div>
    <script src="./assets/plugins/jquery.js"></script>
    <script src="./assets/plugins/underscore.js"></script>
    <script src="https://unpkg.com/wavesurfer.js"></script>
    <script src="./assets/plugins/slick/slick.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/amplitudejs@5.0.3/dist/amplitude.js"></script>
    <script src="./assets/js/build.js"></script>
    <!-- playlist item 템플릿 문자열 -->
    <script type="text/template" id="playListTemplate">
      <li class="playList__itembox" id="playList__item<%- item.id %>">
        <div class="playList__item playList__item--title">
          <div class="col favorite">
            <button>즐겨찾기</button>
          </div>
          <div class="col name">
            <figure>
              <span class="playList__cover">
                <img
                        src="<%- item.cover_art_url %>"
                        alt=""
                />
                <% if ( item.isNew === true ) { %>
                <i class="label new">N</i>
                <% } %>
              </span>

              <button class="btn-play" data-action="playAction<%- item.id %>">재생</button>
              <div class="wave"></div>
              <figcaption>
                <h3 class="playList__title">
                  <%- item.album %>
                </h3>
                <span class="playList__by"><%- item.artist %></span>
              </figcaption>
            </figure>
          </div>
          <div class="col more">
            <button>
              more
            </button>
          </div>
        </div>
      </li>
    </script>
    <script>
      _.templateSettings.variable = "item";
      var template = _.template($("#playListTemplate").text());
      var playList = [
        {
          id: 1,
          name: "I Came Running",
          artist: "Ancient Astronauts",
          album: "We Are to Answer",
          url: "./assets/audio/testfile.mp3",
          cover_art_url: "https://521dimensions.com/img/open-source/amplitudejs/album-art/we-are-to-answer.jpg",
          isNew: true,
          genres: [
            {
              active: true,
              title: "All Genre"
            },
            {
              active: true,
              title: "Jaz"
            },
            {
              active: false,
              title: "Amb"
            },
            {
              active: false,
              title: "Fol"
            },
            {
              active: false,
              title: "Singer-Songwriter"
            }
          ],
          subPlayList: [

          ]
        },
        {
          id: 2,
          name: "First Snow",
          artist: "Emancipator",
          album: "Soon It Will Be Cold Enough",
          url: "https://521dimensions.com/song/FirstSnow-Emancipator.mp3",
          cover_art_url: "https://521dimensions.com/img/open-source/amplitudejs/album-art/soon-it-will-be-cold-enough.jpg",
          isNew: true,
          genres: [
            {
              active: true,
              title: "All Genre"
            },
            {
              active: true,
              title: "Jaz"
            },
            {
              active: false,
              title: "Amb"
            },
            {
              active: false,
              title: "Fol"
            },
            {
              active: false,
              title: "Singer-Songwriter"
            }
          ],
          subPlayList: [

          ]
        },
      ];

      renderPlaylistNoDepth(playList);

      document.getElementById("comment").addEventListener("keyup", function(e) {
        document.getElementById("commentLength").innerText =
          e.target.value.length + "/200";
      });
      var playbtn = document.querySelector(".detail__player-controller");
   
    </script>
     <script>
      Amplitude.init({
        "songs": playList,
        waveforms: {
          sample_rate: 3000
        }
      });
    </script>
  </body>
</html>
