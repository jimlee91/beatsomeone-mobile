
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta property="og:image" content="이미지" />
    <meta property="og:url" content="유알엘" />
    <meta property="og:description" content="디스크립션" />
    <meta property="og:title" content="타이틀" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
            href="https://fonts.googleapis.com/css?family=Raleway:300,400,600,900,900i&display=swap"
            rel="stylesheet"
    />
    <link rel="stylesheet" href="./assets/plugins/slick/slick.css" />
    <link
            rel="stylesheet"
            href="./assets/plugins/rangeSlider/css/ion.rangeSlider.min.css"
    />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mediaelement/4.2.14/mediaelementplayer.min.css">
    <link rel="stylesheet" href="./assets/css/main.css" />
    <title>beatsomeone</title>
</head>
<body>
<div class="wrapper">
    @@include('include/header.html')
    <div class="container detail">
        <div class="detail__header">
            <div class="wrap">
                <div class="detail__music">
                    <div class="detail__music-img">
                        <button class="btn-play ">
                            <img src="https://via.placeholder.com/110x110" alt="" />
                        </button>
                    </div>
                    <div class="detail__music-info">
                        <h2 class="title">Shooting Stars</h2>
                        <p class="singer">Black Mayo</p>
                        <div class="state">
                            <span class="play">547</span>
                            <span class="song">120</span>
                            <span class="registed">May 20</span>
                        </div>
                        <div class="utils">
                            <div class="utils__info">
                                <a href="" class="buy"><span>$20.00</span></a>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="wave">

                </div>

                <div class="detail__comment">
                    <form action="">
                        <div class="commentForm">
                            <a href="" class="comment__user"></a>
                            <input
                                    type="text"
                                    placeholder="Write a comment..."
                                    id="comment"
                                    max="200"
                            />
                            <span id="commentLength">0/200</span>
                            <button>SEND</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <div class="detail__body">
            <div class="tab">
                <div class="tab__scroll-none">
                    <button class="">
                        SIMILAR TRACKS
                    </button>
                    <button>
                        COMMENTS
                    </button>
                    <button class="active">
                        INFORMATION
                    </button>
                </div>
            </div>
            <div class="detail__content">
                <div class="playList">
                    <div class="information">
                        <div class="information__thumb">
                            <img src="https://via.placeholder.com/100x100" alt="">
                        </div>
                        <div class="information__user">
                            <h2 class="information__username">User name</h2>
                            <p class="information__description">Remember those walls I built Well baby they`re tumbling down And they didn`t even put up a fight They didn`t even make a sound
                                I found a way to let you in But I never really had a doubt Standing in the light of your halo I got my angel now
                                It's like I`ve been awakenedEvery rule I had you breakin`It`s the risk that I'm takin` I ain`t never gonna shut you out
                                Everywhere I`m looking now I`m surrounded by your embrace Baby I can see your halo

                                You know you`re my saving grace You`re everything I need and more
                                It`s written all over your face Baby I can feel your halo
                                Pray it won`t fade away I can feel your halo(halo) halo

                                WoahWoahWoah

                                Hit me like a ray of sun Burning through my darkest night You`re the only one that I want
                                Think I`m addicted to your light I swore I`d never fall again But this don`t even feel like falling
                                Gravity can`t forget To pull me back to the ground again It`s like I`ve been awakened
                            </p>

                            <a href="" class="information__message">Message</a>
                        </div>
                    </div>


                </div>
            </div>
        </div>
    </div>
</div>
@@include('./include/footer.html')
</div>
<script src="./assets/plugins/jquery.js"></script>
<script src="./assets/plugins/underscore.js"></script>
<script src="https://unpkg.com/wavesurfer.js"></script>
<script src="./assets/plugins/slick/slick.js"></script>
<script src="./assets/js/build.js"></script>
<!-- playlist item 템플릿 문자열 -->
<script type="text/template" id="playListTemplate">
    <li class="playList__itembox" id="playList__item<%- item.id %>">
        <div class="playList__item playList__item--title">
            <div class="col favorite">
                <button>즐겨찾기</button>
            </div>
            <div class="col name">
                <figure>
              <span class="playList__cover">
                <img
                        src="<%- item.coverImg %>"
                        alt=""
                />
                <% if ( item.isNew === true ) { %>
                <i class="label new">N</i>
                <% } %>
              </span>

                    <button class="btn-play" data-action="playAction<%- item.id %>">재생</button>
                    <div class="wave"></div>
                    <figcaption>
                        <h3 class="playList__title">
                            <%- item.title %>
                        </h3>
                        <span class="playList__by"><%- item.singer %></span>
                    </figcaption>
                </figure>
            </div>
            <div class="col more">
                <button>
                    more
                </button>
            </div>
        </div>
    </li>
</script>

<script>
    _.templateSettings.variable = "item";
    var template = _.template($("#playListTemplate").text());
    var playList = [
        {
            id: 1,
            coverImg: "https://via.placeholder.com/55x55",
            isNew: true,
            title: "Celebration (Buy 1 Get 3 FR...",
            singer: "by Diamond Style",
            genres: [
                {
                    active: true,
                    title: "All Genre"
                },
                {
                    active: true,
                    title: "Jaz"
                },
                {
                    active: false,
                    title: "Amb"
                },
                {
                    active: false,
                    title: "Fol"
                },
                {
                    active: false,
                    title: "Singer-Songwriter"
                }
            ],
            audioFile: "./assets/audio/testfile.mp3"
        },
        {
            id: 2,
            coverImg: "https://via.placeholder.com/55x55",
            isNew: true,
            title: "EMOTIONS",
            singer: "by Mvrio",
            genres: [
                {
                    active: true,
                    title: "Acoustic Folk"
                },
                {
                    active: true,
                    title: "Electronic"
                },
                {
                    active: false,
                    title: "Amb"
                },
                {
                    active: false,
                    title: "Fol"
                },
                {
                    active: false,
                    title: "Singer-Songwriter"
                }
            ],
            audioFile: "./assets/audio/testfile.mp3",
            subPlayList: []
        },
        {
            id: 3,
            coverImg: "https://via.placeholder.com/55x55",
            isNew: true,
            title: "Aishiteru (Dean Lo-Fi Inst...",
            singer: "by Roko Tensei",
            genres: [
                {
                    active: true,
                    title: "Hip Hop"
                },
                {
                    active: false,
                    title: "Jaz"
                },
                {
                    active: false,
                    title: "Amb"
                },
                {
                    active: false,
                    title: "Fol"
                },
                {
                    active: false,
                    title: "World"
                }
            ],
            audioFile: "./assets/audio/testfile.mp3",
            subPlayList: []
        },
        {
            id: 4,
            coverImg: "https://via.placeholder.com/55x55",
            isNew: true,
            title: "Sad Acoustic Guitar",
            singer: "Ryini Beats",
            genres: [
                {
                    active: true,
                    title: "Acoustic Folk"
                },
                {
                    active: false,
                    title: "Jaz"
                },
                {
                    active: false,
                    title: "Free Beats"
                }
            ],
            audioFile: "./assets/audio/testfile.mp3",
            subPlayList: []
        },
        {
            id: 8,
            coverImg: "https://via.placeholder.com/55x55",
            isNew: true,
            title: "Sky Red",
            singer: "by Ant Chamberlain",
            genres: [
                {
                    active: true,
                    title: "K-Pop"
                },
                {
                    active: true,
                    title: "Country"
                },
                {
                    active: false,
                    title: "Amb"
                },
                {
                    active: false,
                    title: "K-Pop"
                },
                {
                    active: false,
                    title: "Singer-Songwriter"
                }
            ],
            audioFile: "./assets/audio/testfile.mp3"
        },
        {
            id: 13,
            coverImg: "https://via.placeholder.com/55x55",
            isNew: true,
            title: "Malibu",
            singer: "by Mvrio",
            genres: [
                {
                    active: false,
                    title: "Fol"
                },
                {
                    active: false,
                    title: "Singer-Songwriter"
                }
            ],
            audioFile: "./assets/audio/testfile.mp3"
        },
        {
            id: 24,
            coverImg: "https://via.placeholder.com/55x55",
            isNew: true,
            title: "Sky Red_breathe-no bac...",
            singer: "by Ant Chamberlain",
            genres: [
                {
                    active: true,
                    title: "Reggae"
                },
                {
                    active: true,
                    title: "R&B"
                },
                {
                    active: false,
                    title: "Amb"
                },
                {
                    active: false,
                    title: "Fol"
                },
                {
                    active: false,
                    title: "Singer-Songwriter"
                }
            ],
            audioFile: "./assets/audio/testfile.mp3"
        }
    ];

    renderPlaylistNoDepth(playList);

    document.getElementById("comment").addEventListener("keyup", function(e) {
        document.getElementById("commentLength").innerText =
            e.target.value.length + "/200";
    });
    var playbtn = document.querySelector(".detail__player-controller");
    document.addEventListener("DOMContentLoaded", function() {
        var music = WaveSurfer.create({
            container: document.querySelector(".wave"),
            waveColor: "#696969",
            progressColor: "#c3ac45",
            hideScrollbar: true,
            pixelRatio: 1,
            height: 30
        });
        music.load("./assets/audio/testfile.mp3");
        music.on("play", function(e) {
            playbtn.classList.add("playing");
        });
        music.on("pause", function(e) {
            playbtn.classList.remove("playing");
        });
        playbtn.addEventListener("click", function() {
            music.playPause();
        });
    });


</script>
</body>
</html>
